{"ast":null,"code":"var _jsxFileName = \"/Users/sandornegyeliczky/Desktop/projektek/ScrumTrackerFrontend/frontend/src/components/projectPage/ProjectPage.js\";\nimport React, { useState, useContext, useEffect, useRef } from 'react';\nimport { useParams } from \"react-router\";\nimport axios from \"axios\";\nimport ScrumTable from \"./ScrumTable\";\nimport { AdderComponent, ContentContainer, Input } from \"../styledComps/styled\";\nimport { PlusCircleOutlined, CheckOutlined, FolderAddOutlined, UsergroupAddOutlined } from '@ant-design/icons';\nimport UsersModal from \"./UsersModal\";\n\nconst ProjectPage = () => {\n  const {\n    id\n  } = useParams();\n  const [project, setProject] = useState();\n  const [statuses, setStatuses] = useState();\n  const [loading, setLoading] = useState(true);\n  const newColumnRef = useRef();\n  const newTaskRef = useRef();\n  const [mouseOverAccept, setMouseOverAccept] = useState(false);\n\n  const getProject = async () => {\n    let response = await axios.get(\"http://localhost:8080/project/\" + id);\n    response.data.table.statuses.sort(function (a, b) {\n      return a.position - b.position;\n    });\n    response.data.table.statuses.map(status => {\n      status.tasks.sort(function (a, b) {\n        return a.position - b.position;\n      });\n    });\n    setProject(response.data);\n    console.log(response.data);\n    setLoading(false);\n  };\n\n  const addNewColumn = async columnName => {\n    if (newColumnRef.current.value.length < 3) {\n      alert(\"add name (minimum 3 character) to your status\");\n      return;\n    }\n\n    setLoading(true);\n    columnName = newColumnRef.current.value;\n    let projectId = id;\n    let newStatus = {\n      statusName: columnName,\n      projectId: projectId\n    };\n    await axios.post(\"http://localhost:8080/project/newstatus\", newStatus);\n    getProject();\n  };\n\n  const addNewTask = async description => {\n    if (newTaskRef.current.value.length < 3) {\n      alert(\"add title (minimum 3 character) to the new task\");\n      return;\n    }\n\n    setLoading(true);\n    let projectId = id;\n    let task = {\n      statusId: project.table.statuses[0].id,\n      title: newTaskRef.current.value\n    };\n    await axios.post(\"http://localhost:8080/project/newtask\", task);\n    getProject();\n  };\n\n  useEffect(() => {\n    getProject();\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"project_item_container_canvas\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, loading ? /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 17\n    }\n  }, \"loading....\") : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"project_item_container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(ContentContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(FolderAddOutlined, {\n    onClick: \"\",\n    style: {\n      fontSize: \"35px\",\n      color: \"#373A55\",\n      right: \"10%\",\n      position: \"absolute\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 25\n    }\n  }, project.title), /*#__PURE__*/React.createElement(UsersModal, {\n    projectId: project.id,\n    participants: project.participants,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(ScrumTable, {\n    key: project.table.id,\n    table: project.table,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"add_component_container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(AdderComponent, {\n    className: \"add_new_status adder_component\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 17\n    }\n  }, \"Add new Status\"), /*#__PURE__*/React.createElement(Input, {\n    ref: newColumnRef,\n    placeholder: \"Status name!\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(PlusCircleOutlined, {\n    style: {\n      fontSize: \"35px\",\n      padding: \"10px\",\n      color: \"green\"\n    },\n    onClick: addNewColumn,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(AdderComponent, {\n    className: \"add_new_task adder_component\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 17\n    }\n  }, \"Add new Task\"), /*#__PURE__*/React.createElement(Input, {\n    ref: newTaskRef,\n    placeholder: \"Task name!\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(PlusCircleOutlined, {\n    style: {\n      fontSize: \"35px\",\n      padding: \"10px\",\n      color: \"green\"\n    },\n    onClick: addNewTask,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 17\n    }\n  })))));\n};\n\nexport default ProjectPage;","map":{"version":3,"sources":["/Users/sandornegyeliczky/Desktop/projektek/ScrumTrackerFrontend/frontend/src/components/projectPage/ProjectPage.js"],"names":["React","useState","useContext","useEffect","useRef","useParams","axios","ScrumTable","AdderComponent","ContentContainer","Input","PlusCircleOutlined","CheckOutlined","FolderAddOutlined","UsergroupAddOutlined","UsersModal","ProjectPage","id","project","setProject","statuses","setStatuses","loading","setLoading","newColumnRef","newTaskRef","mouseOverAccept","setMouseOverAccept","getProject","response","get","data","table","sort","a","b","position","map","status","tasks","console","log","addNewColumn","columnName","current","value","length","alert","projectId","newStatus","statusName","post","addNewTask","description","task","statusId","title","fontSize","color","right","participants","padding"],"mappings":"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","sourcesContent":["import React, {useState, useContext, useEffect, useRef} from 'react';\nimport {useParams} from \"react-router\";\nimport axios from \"axios\";\nimport ScrumTable from \"./ScrumTable\";\nimport {AdderComponent, ContentContainer, Input} from \"../styledComps/styled\";\nimport {\n    PlusCircleOutlined,\n    CheckOutlined,\n    FolderAddOutlined, UsergroupAddOutlined\n} from '@ant-design/icons';\nimport UsersModal from \"./UsersModal\";\n\n\nconst ProjectPage = () => {\n\n    const {id} = useParams();\n    const [project, setProject] = useState();\n    const [statuses, setStatuses] = useState();\n    const [loading, setLoading] = useState(true);\n    const newColumnRef = useRef();\n    const newTaskRef = useRef();\n    const [mouseOverAccept, setMouseOverAccept] = useState(false);\n\n    const getProject = async () => {\n        let response = await axios.get(\"http://localhost:8080/project/\" + id);\n        response.data.table.statuses.sort(function (a, b) {\n            return a.position - b.position;\n        });\n        response.data.table.statuses.map(status => {\n            status.tasks.sort(function (a, b) {\n                return a.position - b.position;\n            })\n        });\n        setProject(response.data);\n        console.log(response.data);\n        setLoading(false);\n    };\n\n    const addNewColumn = async (columnName) => {\n        if (newColumnRef.current.value.length < 3) {\n            alert(\"add name (minimum 3 character) to your status\");\n            return;\n        }\n        setLoading(true);\n        columnName = newColumnRef.current.value;\n        let projectId = id;\n        let newStatus = {statusName: columnName, projectId: projectId};\n        await axios.post(\"http://localhost:8080/project/newstatus\", newStatus);\n        getProject();\n    };\n\n    const addNewTask = async (description) => {\n        if (newTaskRef.current.value.length < 3) {\n            alert(\"add title (minimum 3 character) to the new task\");\n            return;\n        }\n        setLoading(true);\n        let projectId = id;\n        let task = {\n            statusId: project.table.statuses[0].id,\n            title: newTaskRef.current.value\n        };\n        await axios.post(\"http://localhost:8080/project/newtask\", task);\n        getProject();\n\n    };\n\n    useEffect(() => {\n        getProject();\n    }, []);\n\n    return (\n\n        <div className={\"project_item_container_canvas\"}>\n\n            {loading ?\n                <h1>loading....</h1>\n                :\n                <div className={\"project_item_container\"}>\n                    <ContentContainer>\n                        <FolderAddOutlined onClick={\"\"} style={{\n                            fontSize: \"35px\",\n                            color: \"#373A55\",\n                            right:\"10%\",\n                            position: \"absolute\",\n                        }}/>\n                        <h2>{project.title}</h2>\n                        <UsersModal projectId={project.id} participants={project.participants}/>\n\n\n\n                </ContentContainer>\n                <ScrumTable key={project.table.id} table={project.table}/>\n                <div className={\"add_component_container\"}>\n                <AdderComponent className={\"add_new_status adder_component\"}>\n                <label>Add new Status</label>\n                <Input ref={newColumnRef} placeholder={\"Status name!\"}/>\n                <PlusCircleOutlined style={{fontSize: \"35px\", padding: \"10px\", color: \"green\"}}\n                onClick={addNewColumn}\n                />\n                </AdderComponent>\n                <AdderComponent className={\"add_new_task adder_component\"}>\n                <label>Add new Task</label>\n                <Input ref={newTaskRef} placeholder={\"Task name!\"}/>\n                <PlusCircleOutlined style={{fontSize: \"35px\", padding: \"10px\", color: \"green\"}}\n                onClick={addNewTask}\n                />\n                </AdderComponent>\n                </div>\n                </div>\n            }\n        </div>\n    );\n};\n\nexport default ProjectPage;"]},"metadata":{},"sourceType":"module"}